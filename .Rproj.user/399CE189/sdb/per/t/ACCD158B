{
    "contents" : "---\ntitle: \"Reproducible Research Project 1\"\nauthor: \"HDooster\"\ndate: \"Thursday, August 07, 2014\"\noutput:\n  html_document:\n    fig_caption: yes\n---\n\n\n\n\n##Loading and preprocessing the data and making sure the dates are in class 'Date', not in class 'Factor'.\n\n```{r}\nactivity <- read.csv(\"activity.csv\",header=T, sep=\",\", quote=\"\\\"\",stringsAsFactors = FALSE)\n\nactivity$date <- as.Date(activity$date)\n```\n\n\n\n##What is mean total number of steps taken per day?\n\n```{r echo=TRUE}\n#summing up the steps per day using aggregate\nperday <- aggregate(formula = steps~date, data=activity, FUN=sum, na.action=na.omit)\n\n#calculating mean and median\nmean_perday <- mean(perday$steps)\nmedian_perday <- median(perday$steps)\n\nprint(mean_perday)\nprint(median_perday)\n```\n\n```{r echo=TRUE, steps_perday, fig.width=8, fig.height=4}\nrequire(ggplot2)\n\n#plotting a histogram in ggplot\nhistogram <-  qplot(perday$date, perday$steps, stat='summary', fun.y=sum, geom='histogram') + \n  labs(title='Figure 1\\n',\n       y='Total steps per day', x='Date')\n\nplot(histogram)\n\n```\n\n\n##What is the average daily activity pattern?\n\n```{r}\nperinterval <- aggregate(formula = steps~interval, data=activity, FUN=mean, na.action=na.omit)\n```\n\n\n```{r echo=TRUE, steps_perinterval, fig.width=8, fig.height=4}\nplot2 <- qplot(perinterval$interval, perinterval$steps,geom='line') + \nlabs(title=\"Figure 2\", x=\"Interval no.\", y=\"Mean number of steps per interval\")\nplot(plot2)\n```\n\n##Which 5-minute interval contains the maximum number of steps?\nTo find this one we just ask R for the row in 'perinterval' where the steps value is largest using function which.\n```{r}\nperinterval[which(perinterval$steps==max(perinterval$steps)),]\n```\n\n##NA-values\n1. The amount of missing values\n```{r}\n#dimensions of 'activity' with only the incomplete cases (NA's). Take the length by adding [1] of the dim() vector c(#rows, #columns=3).\nmissingvalues <- dim(activity[!complete.cases(activity),])[1]\n#missingsteps <- dim(activity[is.na(activity$steps),])[1] #gives the same answer\nprint(missingvalues)\n```\n\n2-3. Filling in the missing values\n\nIf a step has a missing value NA, replace that missing value with the average for that step (across multiple days).\n```{r}\n#head(activity)\n\nmiss <- activity[!complete.cases(activity),] #extract the NA rows, keep the rownames (the row numbers they have in 'activity')\nhead(miss)\n\nfill_miss<-merge(miss,perinterval,by=\"interval\") #use merge (just like index/matching in excel) to go grab an interval's average steps from  'perinterval'.\nhead(fill_miss) #we now have steps.x and steps.y\n\nactivity2<-activity #new data frame\nactivity2[rownames(miss),1] <- fill_miss$steps.y #miss still knows what row numbers the NA values were at! take activity2 at those rownames, and fill in the 'NA' steps as the 'fill_miss$steps.y'\n\nhead(activity2)\n```\n\n4. New mean, median, and histogram\n```{r}\n#summing up the steps per day using aggregate\nperday2 <- aggregate(formula = steps~date, data=activity2, FUN=sum, na.action=na.omit)\n\n#calculating mean and median\nmean_perday2 <- mean(perday$steps)\nmedian_perday2 <- median(perday$steps)\nprint(mean_perday2)\nprint(median_perday2)\n\n```\nNow we see the median and mean per day don't change. \n```{r echo=FALSE, plot_steps, fig.width=8, fig.height=4}\nrequire(ggplot2)\n\n#plotting a histogram in ggplot\nhistogram2 <-  qplot(x=date, y=steps, data=perday2, stat='summary', fun.y=sum, geom='histogram') + \n  labs(title='Figure 3: Number of steps per day, no NAs\\n',\n       y='Total steps per day', x='Date')\n\nplot(histogram2)\n\n```\n\n##Differences in week and week-end days.\n\n```{r}\n#Setting the Date format into activity2 as well. It appears to have been lost somewhere along the line.\nactivity2$date <- as.Date(activity2$date)\nactivity2$day <- as.integer(format(activity2$date,format = '%u')) %in% c(1:5)\n```\n\n```{r echo=FALSE, steps_perweekpart, fig.width=8, fig.height=4}\n\nactivity2$week <- factor(ifelse(format(activity2$date,format = '%u') %in% c(1:5),'week','week-end'))\n\nweekperinterval <- aggregate(formula = steps~interval, data=activity2[activity2$week==\"week\",], FUN=mean, na.action=na.omit)\n\nplot3 <- qplot(weekperinterval$interval, weekperinterval$steps,geom='line') + \nlabs(title=\"Figure 4: week data\", x=\"Interval no.\", y=\"Mean number of steps per interval\")\n\nplot(plot3)\n```\n\n```{r echo=FALSE, steps_perweekendpart, fig.width=8, fig.height=4}\nweekendperinterval <- aggregate(formula = steps~interval, data=activity2[activity2$week==\"week-end\",], FUN=mean, na.action=na.omit)\n\nplot4 <- qplot(weekendperinterval$interval, weekendperinterval$steps,geom='line') + \nlabs(title=\"Figure 5: week-end data\", x=\"Interval no.\", y=\"Mean number of steps per interval during the week-end\")\n\nplot(plot4)\n```\n\nHere we can see week-ends seem to bring along more variety and a later start of the day, as can be expected with a standard life-style of studying/working in the week and leisure activities in the week-end.\n\n##Results\nThe activity data was analyzed per day and per interval. Missing values were filled into 'activity2' by the mean step values of their intervals and the analysis was repeated.",
    "created" : 1407340893595.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3337262817",
    "id" : "ACCD158B",
    "lastKnownWriteTime" : 1407404727,
    "path" : "~/Computational Scientist/Studiemateriaal/Johns Hopkins University Data Science Course Track/5 Reproducible Research/Project/Project 1/RepData_PeerAssessment1/knitr.Rmd",
    "project_path" : "knitr.Rmd",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_markdown"
}